{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/pettimart/Documents/GitHub/handbook/components/Handbook.js\";\nimport { useEffect, useState } from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport footnote from 'remark-footnotes';\nimport Nav from './Nav';\nimport Illustration from './Illustration';\nimport Link from './Link';\nimport Paragraph from './Paragraph';\nimport LangSelector from './LangSelector';\nimport FootnoteReference from './FootnoteReference';\nimport FootnoteDefinition from './FootnoteDefinition';\nimport styles from '../styles/Handbook.module.css';\n\nfunction Handbook({\n  languages\n}) {\n  const {\n    0: currentSection,\n    1: setCurrentSection\n  } = useState();\n  const {\n    0: currentLang,\n    1: setCurrentLang\n  } = useState('en');\n\n  const scrollTo = section => {\n    section.ref.scrollIntoView({\n      block: 'start'\n    });\n  };\n\n  const handleLang = lang => {\n    setCurrentLang(lang);\n  };\n\n  useEffect(() => {\n    const handleScroll = () => {\n      const selectedSection = contents.find(({\n        ref\n      }) => ref.offsetTop - 10 <= window.scrollY && window.scrollY < -10 + ref.offsetTop + ref.clientHeight);\n\n      if (selectedSection !== currentSection) {\n        setCurrentSection(selectedSection);\n      } else if (!selectedSection && currentSection) {\n        setCurrentSection(undefined);\n      }\n    };\n\n    handleScroll();\n    window.addEventListener('scroll', handleScroll);\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, [currentSection, currentLang]);\n  const renderers = {\n    image: Illustration,\n    link: Link,\n    paragraph: Paragraph,\n    footnoteReference: FootnoteReference,\n    footnoteDefinition: FootnoteDefinition\n  };\n  const contents = languages[currentLang];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.handbook,\n    children: [/*#__PURE__*/_jsxDEV(Nav, {\n      currentSection: currentSection,\n      contents: contents,\n      scrollTo: scrollTo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LangSelector, {\n      currentLang: currentLang,\n      languages: Object.keys(languages),\n      handleLang: handleLang\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), contents.map((section, i) => /*#__PURE__*/_jsxDEV(\"section\", {\n      id: section.path,\n      ref: ref => section.ref = ref,\n      children: /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n        escapeHtml: false,\n        renderers: renderers,\n        plugins: [footnote],\n        source: section.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this)\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n}\n\nexport default Handbook;","map":{"version":3,"sources":["/Users/pettimart/Documents/GitHub/handbook/components/Handbook.js"],"names":["useEffect","useState","ReactMarkdown","footnote","Nav","Illustration","Link","Paragraph","LangSelector","FootnoteReference","FootnoteDefinition","styles","Handbook","languages","currentSection","setCurrentSection","currentLang","setCurrentLang","scrollTo","section","ref","scrollIntoView","block","handleLang","lang","handleScroll","selectedSection","contents","find","offsetTop","window","scrollY","clientHeight","undefined","addEventListener","removeEventListener","renderers","image","link","paragraph","footnoteReference","footnoteDefinition","handbook","Object","keys","map","i","path","content"],"mappings":"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","sourcesContent":["import {useEffect, useState} from 'react'\nimport ReactMarkdown from 'react-markdown'\nimport footnote from 'remark-footnotes'\nimport Nav from './Nav'\nimport Illustration from './Illustration'\nimport Link from './Link'\nimport Paragraph from './Paragraph'\nimport LangSelector from './LangSelector'\nimport FootnoteReference from './FootnoteReference'\nimport FootnoteDefinition from './FootnoteDefinition'\nimport styles from '../styles/Handbook.module.css'\n\n\nfunction Handbook({languages}) {\n\n    const [currentSection, setCurrentSection] = useState()\n    const [currentLang, setCurrentLang] = useState('en')\n\n    const scrollTo = (section) => {\n        section.ref.scrollIntoView({\n            block: 'start',\n        })\n    }\n\n    const handleLang = (lang) => {\n        setCurrentLang(lang)\n    }\n\n    useEffect(() => {\n        const handleScroll = () => {\n          const selectedSection = contents.find(({ref}) => ref.offsetTop - 10 <= window.scrollY && window.scrollY < -10 + ref.offsetTop + ref.clientHeight)\n          if (selectedSection !== currentSection) {\n            setCurrentSection(selectedSection)\n          } else if (!selectedSection && currentSection) {\n            setCurrentSection(undefined)\n          }\n        }\n    \n        handleScroll()\n        window.addEventListener('scroll', handleScroll)\n        return () => {\n          window.removeEventListener('scroll', handleScroll)\n        }\n      }, [currentSection, currentLang])\n\n    const renderers = {\n        image: Illustration,\n        link: Link,\n        paragraph: Paragraph,\n        footnoteReference: FootnoteReference,\n        footnoteDefinition: FootnoteDefinition\n    }\n\n    const contents = languages[currentLang]\n    return (\n        <div className={styles.handbook}>\n            <Nav currentSection={currentSection} contents={contents} scrollTo={scrollTo}></Nav>\n            <LangSelector currentLang={currentLang} languages={Object.keys(languages)} handleLang={handleLang}></LangSelector>\n            {contents.map((section, i) => (\n                <section key={i} id={section.path} ref={ref => section.ref = ref}>\n                    <ReactMarkdown escapeHtml={false} renderers={renderers} plugins={[footnote]} source={section.content} />\n                </section>\n            ))}\n        </div>\n    )\n}\n\nexport default Handbook"]},"metadata":{},"sourceType":"module"}